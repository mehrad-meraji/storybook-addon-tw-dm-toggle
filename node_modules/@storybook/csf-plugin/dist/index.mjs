import{createUnplugin}from"unplugin";import{loadCsf,enrichCsf,formatCsf}from"@storybook/csf-tools";var STORIES_REGEX=/\.(story|stories)\.[tj]sx?$/,logger=console,unplugin=createUnplugin(options=>({name:"unplugin-csf",transformInclude(id){return STORIES_REGEX.test(id)},async transform(code){try{let csf=loadCsf(code,{makeTitle:userTitle=>userTitle||"default"}).parse();return enrichCsf(csf,options),formatCsf(csf,{sourceMaps:!0})}catch(err){return err.message?.startsWith("CSF:")||logger.warn(err.message),code}},vite:{enforce:"pre"}})),{esbuild}=unplugin,{webpack}=unplugin,{rollup}=unplugin,{vite}=unplugin;export{esbuild,rollup,unplugin,vite,webpack};
