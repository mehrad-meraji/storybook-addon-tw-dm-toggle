"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const endent_1 = tslib_1.__importDefault(require("endent"));
const exec_promise_1 = tslib_1.__importDefault(require("../exec-promise"));
const get_lerna_packages_1 = tslib_1.__importDefault(require("../get-lerna-packages"));
const exec = jest.fn();
jest.mock("../exec-promise");
// @ts-ignore
exec_promise_1.default.mockImplementation(exec);
test("it shouldn't included version-less packages", async () => {
    exec.mockReturnValue(endent_1.default `
    /dir/a:a:0.3.0--canary.32.d54a0c4.0
    /dir/b:b:MISSING:PRIVATE
  `);
    expect(await get_lerna_packages_1.default()).toStrictEqual([
        {
            name: "a",
            path: "/dir/a",
            version: "0.3.0--canary.32.d54a0c4.0",
        },
    ]);
});
test("it shouldn't included private packages", async () => {
    exec.mockReturnValue(endent_1.default `
    /dir/a:a:0.3.0--canary.32.d54a0c4.0
    /dir/b:b:0.3.0:PRIVATE
  `);
    expect(await get_lerna_packages_1.default()).toStrictEqual([
        {
            name: "a",
            path: "/dir/a",
            version: "0.3.0--canary.32.d54a0c4.0",
        },
    ]);
});
//# sourceMappingURL=get-lerna-packages.test.js.map